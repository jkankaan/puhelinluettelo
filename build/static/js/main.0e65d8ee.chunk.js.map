{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","handle","PersonForm","onSubmit","nameandnumber","newname","handlename","newnumber","handlenumber","type","Persons","persons","map","person","name","number","onClick","delete_function","id","baseUrl","functions","getAll","axios","get","create","nameAndNumberObject","post","deleteFunction","delete","modify","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","msg","message","setMessage","useEffect","personService","then","response","data","filtered","toLowerCase","includes","Notification","notificationStyle","fontStyle","fontSize","borderRadius","backgroundColor","height","fontWeight","lineHeight","padding","color","border","style","event","target","preventDefault","find","window","confirm","setTimeout","note","catch","error","concat","text","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0e65d8ee.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n    <div>\r\n    filter shown with\r\n    <input value={props.filter}\r\n    onChange={props.handle}/>\r\n    </div>\r\n    )}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return(\r\n    <form onSubmit={props.nameandnumber}>\r\n        <div>\r\n          name: <input value={props.newname}\r\n          onChange={props.handlename}/>\r\n        </div>\r\n        <div>\r\n          number: <input value={props.newnumber}\r\n          onChange={props.handlenumber}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )}\r\n\r\n    export default PersonForm","import React from 'react'\r\n\r\nconst Persons = (props) => {\r\n    return(\r\n        <div>      \r\n        {props.persons.map(person => \r\n          <div key={person.id}>\r\n          {person.name} {person.number}\r\n          <button onClick={() => props.delete_function(person.id, person.name)}>delete</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = nameAndNumberObject => {\r\n    return axios.post(baseUrl, nameAndNumberObject)\r\n}\r\n\r\nconst deleteFunction = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst modify = (id, nameAndNumberObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, nameAndNumberObject)\r\n}\r\n\r\nconst functions = {\r\n    getAll,\r\n    create,\r\n    deleteFunction,\r\n    modify\r\n}\r\n\r\nexport default functions","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([])\n\n  const [ newName, setNewName ] = useState('')\n\n  const [ newNumber, setNewNumber ] = useState('')\n\n  const [ newFilter, setNewFilter ] = useState('')\n\n  const [ message, setMessage] = useState({msg:null,type:null})\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  },[])\n\n  const addNameAndNumber = (event) => {\n    event.preventDefault()\n    const nameAndNumberObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.find(person => person.name === newName)){\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        const person = persons.filter(person => person.name === newName)\n        const id = person[0].id  \n        personService\n          .modify(id, nameAndNumberObject)\n          .then(response => {\n            if (response.data === null) {\n              setMessage({msg:`Information of ${newName} has already been removed from server`, type:'error'})\n              setPersons(persons.filter(person => person.id !== id))\n              setTimeout(() => {\n              setMessage({msg:null, type:null})\n            },2000)\n              return\n            }\n            setPersons(persons.map(person => person.id !== id ? person : response.data))\n            setNewName('')\n            setNewNumber('')\n            setMessage({msg:`Phone number replaced`, note:'notification'})\n            setTimeout(() => {\n              setMessage({msg:null,type:null})\n            },2000)})\n          .catch(error => {\n            setMessage({msg:`Information of ${newName} has already been removed from server`, type:'error'})\n            setPersons(persons.filter(person => person.id !== id))\n            setTimeout(() => {\n              setMessage({msg:null, type:null})\n            },2000)\n          })\n            \n      }}\n  \n    \n    else {\n      personService\n        .create(nameAndNumberObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setMessage({msg:`Added ${newName}`, type:'notification'})\n          setTimeout(() => {\n            setMessage({msg:null, type:null})\n          },2000)\n        })\n        .catch(error => {\n          var text = error.response.data\n          text = text.error\n          setMessage({msg:`${text}`, type:'error'})\n          setTimeout(() => {\n            setMessage({msg:null, type:null})\n          },2000)\n          })\n        \n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const filtered = persons.filter(person => {\n    return person.name.toLowerCase().includes(newFilter.toLowerCase())\n    })\n\n  const deletePerson = (id, name) => {\n    if (window.confirm('Delete ' + name +' ?')){\n      personService\n        .deleteFunction(id)\n        .then(response => response.data)\n        personService\n          .getAll()\n          .then(response => {\n            setPersons(persons.filter(person => person.id !== id))\n            })\n            setMessage({msg:`Deleted ${name}`, type:'notification'})\n            setTimeout(() => {\n              setMessage({msg:null, type:null})\n            },2000)\n          \n      }\n    }\n\n    const Notification = (props) => {\n      const notificationStyle = \n      {\n        fontStyle: 'arial',\n        fontSize: 20,\n        borderRadius: '5px',\n        backgroundColor: 'lightgrey',\n        height: '40px',\n        fontWeight: 'bold',\n        lineHeight: '40px',   \n        padding: '10px'\n      }\n\n      props.message['type']==='error' ? notificationStyle.color = 'red' : notificationStyle.color = 'green'\n      props.message['type']==='error' ? notificationStyle.border = '3px solid red' : notificationStyle.border = '3px solid green'\n\n      if (props.message['msg'] === null) {\n        return null\n      }\n      return (\n        <div style={notificationStyle}>\n          {props.message['msg']}\n        </div>\n      )\n    }\n  \n    return (\n    <div>\n      <h2>Phonebook</h2>\n        <Notification message = {message}/>\n        <Filter filter = {newFilter} handle = {handleFilterChange}/>\n      <h2>add a new</h2>\n        <PersonForm nameandnumber = {addNameAndNumber} newname = {newName}\n        handlename = {handleNameChange} newnumber = {newNumber}\n        handlenumber = {handleNumberChange}/>\n      <h2>Numbers</h2>\n        <Persons persons = {filtered} delete_function = {deletePerson}/>     \n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}